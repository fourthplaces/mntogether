# ============================================================================
# SECURITY WARNING: Never commit .env files to version control!
# ============================================================================
# This is a template file. Copy it to .env and fill in your actual values.
# The .env file is gitignored and should NEVER be committed to the repository.
#
# To rotate API keys if accidentally exposed:
#   1. OpenAI: https://platform.openai.com/api-keys
#   2. Voyage AI: https://www.voyageai.com/
#   3. Twilio: https://console.twilio.com/
#   5. Generate new JWT_SECRET: openssl rand -base64 32
# ============================================================================

# ========================================
# Database & Cache
# ========================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/mndigitalaid
REDIS_URL=redis://localhost:6379

# ========================================
# AI Services (REQUIRED)
# ========================================
# OpenAI for GPT-4o (need extraction, relevance checking)
OPENAI_API_KEY=sk-...

# Voyage AI for embeddings (text-embedding-3-small compatible)
VOYAGE_API_KEY=pa-...

# ========================================
# Search (REQUIRED)
# ========================================
# Tavily for search discovery
TAVILY_API_KEY=tvly-...

# ========================================
# SMS Authentication (REQUIRED)
# ========================================
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_VERIFY_SERVICE_SID=VAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ========================================
# JWT Authentication (REQUIRED)
# ========================================
# Generate with: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_here_at_least_32_bytes_long
JWT_ISSUER=mndigitalaid

# ========================================
# Admin Authorization (REQUIRED for admin access)
# ========================================
# Comma-separated list of admin identifiers (emails or phone numbers)
# Emails: case-insensitive (admin@example.com)
# Phones: E.164 format (+15551234567)
ADMIN_IDENTIFIERS=admin@example.com,+15551234567

# ========================================
# Push Notifications (Optional)
# ========================================
# Expo Access Token for higher rate limits
EXPO_ACCESS_TOKEN=

# ========================================
# Server Configuration
# ========================================
PORT=8080
RUST_LOG=info,server_core=debug

# ========================================
# CORS Configuration
# ========================================
# Comma-separated list of allowed origins
# Development: Automatically allows localhost:3000, localhost:19006, localhost:8081
# Production: MUST be explicitly set to your domain(s)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:19006

# ========================================
# PII Protection (Optional - enabled by default)
# ========================================
# Enable automatic PII scrubbing in chat messages
PII_SCRUBBING_ENABLED=true

# Use GPT-based PII detection (more accurate, costs ~$0.001 per message)
# Falls back to regex patterns if disabled
PII_USE_GPT_DETECTION=true

# ========================================
# Development/Testing Only
# ========================================
# Enables test identifier (test@example.com / +1234567890 with code 123456)
# NEVER enable in production!
TEST_IDENTIFIER_ENABLED=false
